{"version":3,"file":"static/js/881.353b35c0.chunk.js","mappings":"2LACA,EAAuB,yBAAvB,EAAuD,yBAAvD,EAAuF,yB,SCoBvF,EAhBmB,SAAC,GAAgB,IAAdA,EAAa,EAAbA,OACdC,GAAWC,EAAAA,EAAAA,MAEXC,EAAWH,EAAOI,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,eAAP,OAC1B,eAAIC,UAAWC,EAAf,UACE,SAAC,KAAD,CAAMD,UAAWC,EAAQC,GAAE,kBAAaJ,GAAMK,MAAO,CAAEC,KAAMV,GAA7D,SAA0EK,KADhDD,EADF,IAM5B,OACE,eAAIE,UAAWC,EAAf,SACGL,GAGN,C,qIClBD,EAAwB,sBAAxB,EAAuD,uB,kBCsDvD,EA9Ce,WACb,OAA4BS,EAAAA,EAAAA,UAAS,IAArC,eAAOZ,EAAP,KAAea,EAAf,KACA,GAA0BD,EAAAA,EAAAA,UAAS,IAAnC,eAAOE,EAAP,KAAcC,EAAd,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAEMC,EAAcF,EAAaG,IAAI,SA6BrC,OAjBAC,EAAAA,EAAAA,YAAU,WAAM,wCAKd,8GAEyBC,EAAAA,EAAAA,IAAaH,GAFtC,OAEUI,EAFV,OAGIV,EAAUU,GAHd,gDAKIC,QAAQC,IAAR,MALJ,0DALc,sBACTN,GADS,mCAcdO,EACD,GAAE,CAACP,KAGF,4BACE,kBAAMQ,SAzBW,SAAAC,GACnBA,EAAEC,iBACFX,EAAgB,CAAEJ,MAAOA,IACzBC,EAAS,GACV,EAqBG,WACE,kBAAOR,UAAWC,EAASsB,KAAK,OAAOC,MAAOjB,EAAOkB,SA9BtC,SAAAJ,GACnBb,EAASa,EAAEK,OAAOF,MAAMG,cACzB,KA6BK,mBAAQ3B,UAAWC,EAAUsB,KAAK,SAAlC,uBAGD9B,IAAU,SAACmC,EAAA,EAAD,CAAYnC,OAAQA,MAGpC,C,+LCnDDoC,EAAAA,EAAAA,SAAAA,QAAyB,+BACzBA,EAAAA,EAAAA,SAAAA,OAAwB,CACtBC,QAAS,mCACTC,SAAU,SAGL,IAAMC,EAAiB,mCAAG,oGACRH,EAAAA,EAAAA,IAAU,uBADF,cACzBI,EADyB,yBAExBA,EAASC,KAAKC,SAFU,2CAAH,qDAKjBpB,EAAY,mCAAG,WAAMR,GAAN,uFACHsB,EAAAA,EAAAA,IAAA,8BAAiCtB,IAD9B,cACpB0B,EADoB,yBAEnBA,EAASC,KAAKC,SAFK,2CAAH,sDAKZC,EAAe,mCAAG,WAAMC,GAAN,uFACNR,EAAAA,EAAAA,IAAA,iBAAoBQ,IADd,cACvBJ,EADuB,yBAEtBA,EAASC,MAFa,2CAAH,sDAKfI,EAAY,mCAAG,WAAMD,GAAN,uFACHR,EAAAA,EAAAA,IAAA,iBAAoBQ,EAApB,aADG,cACpBJ,EADoB,yBAEnBA,EAASC,KAAKK,MAFK,2CAAH,sDAKZC,EAAgB,mCAAG,WAAMH,GAAN,uFACPR,EAAAA,EAAAA,IAAA,iBAAoBQ,EAApB,aADO,cACxBJ,EADwB,yBAEvBA,EAASC,KAAKC,SAFS,2CAAH,qD","sources":["webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MoviesList_list__0Owr9\",\"item\":\"MoviesList_item__eePYv\",\"link\":\"MoviesList_link__8rTGX\"};","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport s from './MoviesList.module.css';\n\nconst MoviesList = ({ movies }) => {\n  const location = useLocation();\n\n  const elements = movies.map(({ id, original_title }) =>\n    <li className={s.item} key={id}>\n      <Link className={s.link} to={`/movies/${id}`} state={{ from: location }}>{original_title}</Link>\n    </li>\n  )\n\n  return (\n    <ul className={s.list}>\n      {elements}\n    </ul>\n  )\n}\n\nexport default MoviesList;\n\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      original_title: PropTypes.string.isRequired,\n    })\n  ).isRequired\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"Movies_input__KrUqs\",\"button\":\"Movies_button__GcIka\"};","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport MoviesList from '../../components/MoviesList/MoviesList';\n\nimport s from './Movies.module.css';\n\nimport { searchMovies } from '../../services/api';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [query, setQuery] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const movieSearch = searchParams.get('query');\n\n  const handleChange = e => {\n    setQuery(e.target.value.toLowerCase());\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setSearchParams({ query: query });\n    setQuery('');\n  };\n\n  useEffect(() => {\n    if (!movieSearch) {\n      return;\n    }\n\n    async function renderMovie() {\n      try{\n        const result = await searchMovies(movieSearch);\n        setMovies(result);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n    renderMovie();\n  }, [movieSearch]);\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <input className={s.input} type='text' value={query} onChange={handleChange} />\n        <button className={s.button} type=\"submit\">Search</button>\n      </form>\n\n      {movies && <MoviesList movies={movies} />}\n    </div>\n  )\n}\n\nexport default Movies;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\naxios.defaults.params = {\n  api_key: '86b2774f72e9923bd0f07dfe6f4fea8a',\n  language: 'en-US',\n}\n\nexport const getTrendingMovies = async () => {\n  const response = await axios.get('/trending/movie/day');\n  return response.data.results;\n}\n\nexport const searchMovies = async query => {\n  const response = await axios.get(`/search/movie?query=${query}`);\n  return response.data.results;\n}\n\nexport const getMovieDetails = async movieId => {\n  const response = await axios.get(`/movie/${movieId}`);\n  return response.data;\n}\n\nexport const getMovieCast = async movieId => {\n  const response = await axios.get(`/movie/${movieId}/credits`);\n  return response.data.cast;\n}\n\nexport const getMoviesReviews = async movieId => {\n  const response = await axios.get(`/movie/${movieId}/reviews`);\n  return response.data.results;\n}\n"],"names":["movies","location","useLocation","elements","map","id","original_title","className","s","to","state","from","useState","setMovies","query","setQuery","useSearchParams","searchParams","setSearchParams","movieSearch","get","useEffect","searchMovies","result","console","log","renderMovie","onSubmit","e","preventDefault","type","value","onChange","target","toLowerCase","MoviesList","axios","api_key","language","getTrendingMovies","response","data","results","getMovieDetails","movieId","getMovieCast","cast","getMoviesReviews"],"sourceRoot":""}